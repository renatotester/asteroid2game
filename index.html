<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=1,user-scalable=no"/>
  <title>ASTRO OPS ‚Äî V2.4 (mobile + joystick)</title>
  <link rel="stylesheet" href="style-v2.css?v=7"/>
  <style>#game{min-height:560px;display:block}</style>
</head>
<body>
  <div id="wrap" class="wrap">
    <header class="hud">
      <div>Score: <b id="score">0</b></div>
      <div>Level: <b id="level">1</b></div>
      <div>Hi: <b id="hi">0</b></div>
      <button id="btnFS" title="Tela cheia (F)">‚õ∂</button>
    </header>

    <!-- Canvas do jogo -->
    <canvas id="game" tabindex="0" aria-label="Campo de jogo" class="gameCanvas"></canvas>

    <footer class="help">
      Desktop: ‚Üê ‚Üí ‚Üë Espa√ßo ‚Ä¢ Mobile: Joystick + üî• ‚Ä¢ Pausa: P ou ‚èØ ‚Ä¢ Tela cheia: F
    </footer>

    <!-- Overlay inicial / pausa / game over -->
    <div id="overlay" class="overlay">
      <div class="card">
        <h2>ASTRO OPS ‚Äî V2.4</h2>
        <p id="ovMsg">Toque/Click/Tecla para come√ßar</p>
        <div class="stats">
          <div>Score: <b id="ovScore">0</b></div>
          <div>Hi: <b id="ovHi">0</b></div>
          <div>Level: <b id="ovLevel">1</b></div>
        </div>
        <p><button id="startBtn" class="primary">COME√áAR</button></p>
        <p id="bootErr" class="mini" style="display:none;color:#ffb3b3"></p>
      </div>
    </div>

    <!-- Controles touch -->
    <div class="touchUI" aria-hidden="false">
      <!-- Joystick anal√≥gico -->
      <div class="stick" id="stick" aria-label="Joystick direcional">
        <div class="nub" id="nub"></div>
      </div>
      <!-- A√ß√µes (direita) -->
      <div class="rightPad">
        <button class="tbtn big"  id="btnFire"  aria-label="Atirar">üî•</button>
        <button class="tbtn small" id="btnPause" aria-label="Pausar/Retomar">‚èØ</button>
      </div>
    </div>
  </div>

  <!-- Mostra erros de boot na tela -->
  <script>
    addEventListener('error',(e)=>{
      const el=document.getElementById('bootErr');
      if(el){ el.style.display='block'; el.textContent='Erro de inicializa√ß√£o: '+(e.message||e.error||''); }
    }, {capture:true});
  </script>

  <!-- Apenas este script (ESM). Remova scripts antigos. -->
  <script type="module" src="main-v2.js?v=7"></script>
</body>
</html>

