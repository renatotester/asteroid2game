<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>ASTRO OPS — V2 estável</title>
  <link rel="stylesheet" href="style-v2.css?v=3"/>
  <style>#game{min-height:560px;display:block}</style>
</head>
<body>
  <div id="wrap" class="wrap">
    <header class="hud">
      <div>Score: <b id="score">0</b></div>
      <div>Level: <b id="level">1</b></div>
      <div>Hi: <b id="hi">0</b></div>
      <button id="btnFS" title="Tela cheia (F)">⛶</button>
    </header>

    <canvas id="game" tabindex="0" aria-label="Campo de jogo"></canvas>

    <footer class="help">
      ← → girar • ↑ acelerar • Espaço atirar • P pausa • R reiniciar • F tela cheia
    </footer>

    <div id="overlay" class="overlay">
      <div class="card">
        <h2>ASTRO OPS — V2</h2>
        <p id="ovMsg">Pressione <b>Espaço</b>, <b>Enter</b> ou <b>Clique</b> para começar</p>
        <div class="stats">
          <div>Score: <b id="ovScore">0</b></div>
          <div>Hi: <b id="ovHi">0</b></div>
          <div>Level: <b id="ovLevel">1</b></div>
        </div>
        <p id="bootErr" class="mini" style="display:none;color:#ffb3b3"></p>
      </div>
    </div>
  </div>

  <!-- Mostra erros de boot na tela -->
  <script>
    addEventListener('error',(e)=>{
      const el=document.getElementById('bootErr');
      if(el){ el.style.display='block'; el.textContent='Erro de inicialização: '+(e.message||e.error||''); }
    });
  </script>

  <!-- IMPORTANTE: apenas este script (ESM). Remova/evite scripts antigos. -->
  <script type="module" src="main-v2.js?v=3"></script>
</body>
</html>
